-- Adminer 5.3.0 MySQL 8.0.40 dump

SET NAMES utf8;
SET time_zone = '+00:00';
SET foreign_key_checks = 0;
SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO';

SET NAMES utf8mb4;

DROP TABLE IF EXISTS `audit_log`;
CREATE TABLE `audit_log` (
  `id` int NOT NULL AUTO_INCREMENT,
  `table_name` varchar(50) COLLATE utf8mb4_general_ci NOT NULL,
  `row_id` int NOT NULL,
  `action` enum('INSERT','UPDATE','DELETE') COLLATE utf8mb4_general_ci NOT NULL,
  `changed_by` int NOT NULL,
  `changed_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `old_value` text COLLATE utf8mb4_general_ci,
  `new_value` text COLLATE utf8mb4_general_ci,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;


DROP TABLE IF EXISTS `chat`;
CREATE TABLE `chat` (
  `id` int NOT NULL AUTO_INCREMENT,
  `customer_id` int NOT NULL,
  `shop_id` int NOT NULL,
  `message` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `sender` enum('customer','system','internal','debug','database') COLLATE utf8mb4_general_ci NOT NULL,
  `status` enum('open','resolved','escalated') CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'open',
  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `customer_id` (`customer_id`),
  KEY `shop_id` (`shop_id`),
  CONSTRAINT `chat_ibfk_1` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`) ON DELETE CASCADE,
  CONSTRAINT `chat_ibfk_2` FOREIGN KEY (`shop_id`) REFERENCES `shop` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `chat` (`id`, `customer_id`, `shop_id`, `message`, `sender`, `status`, `timestamp`) VALUES
(1,	1,	1,	'Chat initialized',	'system',	'open',	'2025-01-20 13:15:27'),
(2,	1,	1,	'שלום, אתם זמינים?',	'customer',	'open',	'2025-01-20 13:15:27'),
(3,	1,	1,	'Interpretation: {\"answer\":\"שלום! שעות הפתיחה שלנו הן בימים ראשון עד חמישי בין 08:00 ל-16:00 וביום שישי בין 08:00 ל-12:30. איך אפשר לעזור לך היום?\"}',	'internal',	'open',	'2025-01-20 13:15:30'),
(4,	1,	1,	'שלום! שעות הפתיחה שלנו הן בימים ראשון עד חמישי בין 08:00 ל-16:00 וביום שישי בין 08:00 ל-12:30. איך אפשר לעזור לך היום?',	'system',	'open',	'2025-01-20 13:15:30'),
(5,	1,	1,	'יש לכם פפסי במלאי?',	'customer',	'open',	'2025-01-20 13:15:39'),
(6,	1,	1,	'Interpretation: {\"actions\":[{\"action\":\"check_stock\",\"data\":{\"products\":[{\"name\":\"פפסי\"}]}}]}',	'internal',	'open',	'2025-01-20 13:15:41'),
(7,	1,	1,	'כן, יש לנו פפסי במלאי! יש לנו גם פפסי מקס בבקבוק וגם פחית. אם יש לך שאלות נוספות או אם תרצה לבצע הזמנה, אני כאן לעזור.',	'system',	'open',	'2025-01-20 13:15:44'),
(8,	1,	1,	'יש לכם פפסי רגיל בפחית?',	'customer',	'open',	'2025-01-20 13:15:56'),
(9,	1,	1,	'Interpretation: {\"answer\":\"יש לנו פפסי במלאי אבל אין במלאי פחית של פפסי רגיל, יש פחית של פפסי מקס. האם תרצה להזמין משהו אחר?\"}',	'internal',	'open',	'2025-01-20 13:15:59'),
(10,	1,	1,	'יש לנו פפסי במלאי אבל אין במלאי פחית של פפסי רגיל, יש פחית של פפסי מקס. האם תרצה להזמין משהו אחר?',	'system',	'open',	'2025-01-20 13:15:59'),
(11,	1,	1,	'אוקיי, אני רוצה לעשות הזמנה עם 2 בקבוקי פפסי רגיל וקטשופ',	'customer',	'open',	'2025-01-20 13:16:18'),
(12,	1,	1,	'Interpretation: {\"actions\":[{\"check_stock\":{\"products\":[{\"name\":\"קטשופ\"}]}},{\"reload\":{}}]}',	'internal',	'open',	'2025-01-20 13:16:20'),
(13,	1,	1,	'בטח! אתה יכול להזמין 2 בקבוקי פפסי רגיל וקטשופ דרך המערכת שלנו. לשם כך, אנא ודא שאתה מחובר לחשבון שלך באתר או באפליקציה שלנו. אם יש לך שאלות נוספות או אם תרצה עזרה נוספת בתהליך ההזמנה, אני כאן לעזור.',	'system',	'open',	'2025-01-20 13:16:24'),
(14,	1,	1,	'תיצור לי הזמנה ליום שבת ב12 בצהריים',	'customer',	'open',	'2025-01-20 13:16:37'),
(15,	1,	1,	'Interpretation: {\"answer\":\"השבת אנחנו סגורים. שעות הפתיחה שלנו הן בימים ראשון עד חמישי בין 08:00 ל-16:00 וביום שישי בין 08:00 ל-12:30. האם יש יום אחר שבו תרצה לבצע הזמנה?\"}',	'internal',	'open',	'2025-01-20 13:16:39'),
(16,	1,	1,	'השבת אנחנו סגורים. שעות הפתיחה שלנו הן בימים ראשון עד חמישי בין 08:00 ל-16:00 וביום שישי בין 08:00 ל-12:30. האם יש יום אחר שבו תרצה לבצע הזמנה?',	'system',	'open',	'2025-01-20 13:16:39'),
(17,	1,	1,	'שלום, האם אתה זמין?',	'customer',	'open',	'2025-02-18 08:16:31'),
(18,	1,	1,	'Interpretation: {\"answer\":\"כן, אני זמין. איך אפשר לעזור לך היום?\"}',	'internal',	'open',	'2025-02-18 08:16:33'),
(19,	1,	1,	'כן, אני זמין. איך אפשר לעזור לך היום?',	'system',	'open',	'2025-02-18 08:16:33'),
(20,	1,	1,	'תוכל ליצור עבורי הזמנה חדשה למחר בבוקר ולהוסיף לה שתי פחיות פפסי מקס?',	'customer',	'open',	'2025-02-18 08:17:01'),
(21,	1,	1,	'Interpretation: {\"actions\":[{\"action\":\"create_order\",\"data\":{\"pickup_time\":\"2025-02-19 08:00:00\"}},{\"action\":\"add_order_item\",\"data\":{\"order_id\":null,\"item_id\":17,\"amount\":2}}]}',	'internal',	'open',	'2025-02-18 08:17:03'),
(22,	1,	1,	'שלום! הזמנה חדשה נוצרה בהצלחה והוספנו לה שתי פחיות של פפסי מקס. מספר ההזמנה שלך הוא 1 והיא כרגע בהמתנה. תוכל לאשר את ההזמנה כשאתה מוכן. אם יש לך בקשות נוספות או שאלות, אני כאן לעזור!',	'system',	'open',	'2025-02-18 08:17:05'),
(23,	1,	1,	'אני מאשר את ההזמנה',	'customer',	'open',	'2025-02-18 08:17:11'),
(24,	1,	1,	'Interpretation: {\"actions\":[{\"action\":\"summarize_order\",\"data\":{\"order_id\":1}}],\"answer\":\"You have confirmed that you would like to proceed with the order. Let\'s review the items in your order to ensure everything is correct before finalizing.\"}',	'internal',	'open',	'2025-02-18 08:17:13'),
(25,	1,	1,	'You have confirmed that you would like to proceed with the order. Let\'s review the items in your order to ensure everything is correct before finalizing.',	'system',	'open',	'2025-02-18 08:17:13'),
(26,	1,	1,	'אני מאשר',	'customer',	'open',	'2025-02-18 08:17:21'),
(27,	1,	1,	'Interpretation: {\"actions\":[{\"action\":\"summarize_order\",\"data\":{\"order_id\":1}}]}',	'internal',	'open',	'2025-02-18 08:17:22'),
(28,	1,	1,	'אני מבין שאתה מאשר, אבל אני לא בטוח למה אתה מתכוון. האם תרצה להזמין את פפסי מקס בפחית או אולי משהו אחר? אם יש לך שאלות נוספות או אם תרצה ייעוץ לגבי מוצרים אחרים, אני כאן לעזור!',	'system',	'open',	'2025-02-18 08:17:24');

DROP TABLE IF EXISTS `chat_data`;
CREATE TABLE `chat_data` (
  `id` int NOT NULL AUTO_INCREMENT,
  `customer_id` int NOT NULL,
  `shop_id` int NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_general_ci NOT NULL,
  `value` text COLLATE utf8mb4_general_ci NOT NULL,
  `created_on` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `customer_id` (`customer_id`),
  KEY `shop_id` (`shop_id`),
  CONSTRAINT `chat_data_ibfk_1` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`),
  CONSTRAINT `chat_data_ibfk_2` FOREIGN KEY (`shop_id`) REFERENCES `shop` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `chat_data` (`id`, `customer_id`, `shop_id`, `name`, `value`, `created_on`) VALUES
(1,	1,	1,	'searchTerms',	'[\"פפסי\"]',	'2025-01-20 13:15:41'),
(2,	1,	1,	'searchResults',	'[{\"id\":15,\"name\":\"פפסי\",\"unit\":\"בקבוק\",\"price\":9.9,\"in_stock\":1},{\"id\":16,\"name\":\"פפסי מקס\",\"unit\":\"בקבוק\",\"price\":9.9,\"in_stock\":1},{\"id\":17,\"name\":\"פפסי מקס\",\"unit\":\"פחית\",\"price\":5.99,\"in_stock\":1}]',	'2025-01-20 13:15:41'),
(3,	1,	1,	'orderId',	'1',	'2025-02-18 08:17:03'),
(4,	1,	1,	'orderStatus',	'\"pending\"',	'2025-02-18 08:17:03');

DROP TABLE IF EXISTS `customer`;
CREATE TABLE `customer` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `shop_id` int NOT NULL,
  `mobile_number` varchar(15) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `email` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_id` (`shop_id`),
  CONSTRAINT `customer_ibfk_1` FOREIGN KEY (`shop_id`) REFERENCES `shop` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `customer` (`id`, `name`, `shop_id`, `mobile_number`, `email`) VALUES
(1,	'דוד כהן',	1,	'0501234567',	'david@example.com'),
(2,	'רונית לוי',	1,	'0547654321',	'ronit@example.com'),
(3,	'יוסי ישראלי',	1,	'0529876543',	'yossi@example.com'),
(4,	'חנה אלמליח',	1,	'0535678901',	'hanna@example.com'),
(5,	'משה ביטון',	1,	'0587654321',	'moshe@example.com');

DROP TABLE IF EXISTS `opening_hour`;
CREATE TABLE `opening_hour` (
  `id` int NOT NULL AUTO_INCREMENT,
  `shop_id` int NOT NULL,
  `day_of_week` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `special_date` date DEFAULT NULL,
  `open_time` time NOT NULL,
  `close_time` time NOT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_id` (`shop_id`),
  CONSTRAINT `opening_hour_ibfk_1` FOREIGN KEY (`shop_id`) REFERENCES `shop` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `opening_hour` (`id`, `shop_id`, `day_of_week`, `special_date`, `open_time`, `close_time`) VALUES
(1,	1,	'sunday',	NULL,	'08:00:00',	'16:00:00'),
(2,	1,	'monday',	NULL,	'08:00:00',	'16:00:00'),
(3,	1,	'tuesday',	NULL,	'08:00:00',	'16:00:00'),
(4,	1,	'wednesday',	NULL,	'08:00:00',	'16:00:00'),
(5,	1,	'thursday',	NULL,	'08:00:00',	'16:00:00'),
(6,	1,	'friday',	NULL,	'08:00:00',	'12:30:00');

DROP TABLE IF EXISTS `order`;
CREATE TABLE `order` (
  `id` int NOT NULL AUTO_INCREMENT,
  `shop_id` int NOT NULL,
  `customer_id` int NOT NULL,
  `pickup_time` datetime DEFAULT NULL,
  `status` enum('pending','confirmed','canceled') CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'pending',
  `reviewed` tinyint(1) NOT NULL DEFAULT '0',
  `payment_method` enum('cash','card','online') COLLATE utf8mb4_general_ci DEFAULT 'cash',
  `delivery_address` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_id` (`shop_id`),
  KEY `customer_id` (`customer_id`),
  CONSTRAINT `order_ibfk_1` FOREIGN KEY (`shop_id`) REFERENCES `shop` (`id`),
  CONSTRAINT `order_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `order` (`id`, `shop_id`, `customer_id`, `pickup_time`, `status`, `reviewed`, `payment_method`, `delivery_address`) VALUES
(1,	1,	1,	'2025-02-19 08:00:00',	'pending',	0,	'cash',	NULL);

DROP TABLE IF EXISTS `order_item`;
CREATE TABLE `order_item` (
  `id` int NOT NULL AUTO_INCREMENT,
  `order_id` int NOT NULL,
  `product_id` int NOT NULL,
  `amount` int NOT NULL,
  `price` float NOT NULL,
  `description` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `order_id` (`order_id`),
  KEY `product_id` (`product_id`),
  CONSTRAINT `order_item_ibfk_1` FOREIGN KEY (`order_id`) REFERENCES `order` (`id`),
  CONSTRAINT `order_item_ibfk_2` FOREIGN KEY (`product_id`) REFERENCES `product` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `order_item` (`id`, `order_id`, `product_id`, `amount`, `price`, `description`) VALUES
(1,	1,	17,	2,	11.98,	'2x פחית פפסי מקס');

DROP TABLE IF EXISTS `product`;
CREATE TABLE `product` (
  `id` int NOT NULL AUTO_INCREMENT,
  `shop_id` int NOT NULL,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `price` float NOT NULL,
  `in_stock` tinyint(1) NOT NULL DEFAULT '1',
  `stock_amount` int DEFAULT NULL,
  `unit` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `category` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `description` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci,
  `image_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `stock_type` enum('managed','simple') COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'simple',
  PRIMARY KEY (`id`),
  KEY `shop_id` (`shop_id`),
  CONSTRAINT `product_ibfk_1` FOREIGN KEY (`shop_id`) REFERENCES `shop` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `product` (`id`, `shop_id`, `name`, `price`, `in_stock`, `stock_amount`, `unit`, `category`, `description`, `image_url`, `stock_type`) VALUES
(1,	1,	'לחם',	41.72,	1,	43,	NULL,	NULL,	NULL,	NULL,	'managed'),
(2,	1,	'חלב',	37.77,	1,	85,	NULL,	NULL,	NULL,	NULL,	'managed'),
(3,	1,	'ביצים',	46.75,	1,	29,	NULL,	NULL,	NULL,	NULL,	'managed'),
(4,	1,	'שמן זית',	13.75,	1,	43,	NULL,	NULL,	NULL,	NULL,	'managed'),
(5,	1,	'שוקולד',	24.53,	1,	89,	NULL,	NULL,	NULL,	NULL,	'managed'),
(6,	1,	'חמאה',	28.64,	1,	16,	NULL,	NULL,	NULL,	NULL,	'managed'),
(7,	1,	'יוגורט',	44.23,	1,	6,	NULL,	NULL,	'יוגורט טרי',	NULL,	'managed'),
(8,	1,	'אורז',	18.06,	1,	99,	NULL,	NULL,	NULL,	NULL,	'managed'),
(9,	1,	'מלח',	6.85,	1,	93,	NULL,	NULL,	NULL,	NULL,	'managed'),
(10,	1,	'סוכר',	27.32,	1,	74,	NULL,	NULL,	NULL,	NULL,	'managed'),
(11,	1,	'פסטה',	37.73,	1,	45,	NULL,	NULL,	NULL,	NULL,	'managed'),
(12,	1,	'קטשופ',	13.99,	1,	25,	NULL,	NULL,	NULL,	NULL,	'managed'),
(13,	1,	'רוטב עגבניות',	10.77,	1,	63,	NULL,	NULL,	NULL,	NULL,	'managed'),
(14,	1,	'דבש',	31.13,	1,	58,	NULL,	NULL,	NULL,	NULL,	'managed'),
(15,	1,	'פפסי',	9.9,	1,	83,	'בקבוק',	NULL,	NULL,	NULL,	'managed'),
(16,	1,	'פפסי מקס',	9.9,	1,	95,	'בקבוק',	NULL,	NULL,	NULL,	'managed'),
(17,	1,	'פפסי מקס',	5.99,	1,	73,	'פחית',	NULL,	NULL,	NULL,	'managed'),
(18,	1,	'עגבנייה',	24.56,	1,	25,	NULL,	NULL,	NULL,	NULL,	'managed'),
(19,	1,	'בצל',	17.21,	1,	49,	NULL,	NULL,	NULL,	NULL,	'managed'),
(20,	1,	'תפוחי אדמה',	43.7,	1,	87,	NULL,	NULL,	NULL,	NULL,	'managed');

DROP TABLE IF EXISTS `product_sale`;
CREATE TABLE `product_sale` (
  `id` int NOT NULL AUTO_INCREMENT,
  `product_id` int NOT NULL,
  `sale_price` float NOT NULL,
  `start_date` date NOT NULL,
  `end_date` date NOT NULL,
  `discount_type` enum('fixed','percentage') COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'fixed',
  `discount_value` float NOT NULL,
  PRIMARY KEY (`id`),
  KEY `product_id` (`product_id`),
  CONSTRAINT `product_sale_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `product` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;


DROP TABLE IF EXISTS `prompt`;
CREATE TABLE `prompt` (
  `id` int NOT NULL AUTO_INCREMENT,
  `method` varchar(255) COLLATE utf8mb4_general_ci NOT NULL,
  `prompt` text COLLATE utf8mb4_general_ci NOT NULL,
  `response` text COLLATE utf8mb4_general_ci NOT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `prompt` (`id`, `method`, `prompt`, `response`, `created_at`) VALUES
(1,	'interpretMessage',	'You are an AI assistant for a supermarket. Your task is to interpret the customer\'s query, identifying multiple actions and their corresponding details if necessary.\n\n- Ignore units or descriptions like \"bottle\" or \"box.\"\n- Simplify plural or descriptive forms (e.g., \"שוקולדים\" → \"שוקולד\").\n- Remove redundant words like \"please\", \"I want.\"\n- Remove standard product indicators like \"regular\" or \"standard\" from product names.\n- Use the \"search history\" and \"search results\" logs to avoid unnecessary queries and identify available and unavailable products.\n- Extract only the essential product names and quantities from the query.\n- When a customer asks to add products to an order, and you are not yet aware of an order ID, use the create_order action before adding the add_order_item action.\n- DO NOT ADD a \'create_order\' action if the existing order ID is already defined above. Only if it is \'None\', you can add \'create_order\'.\n- If a user asks to add products to an order and the products are not in the searched terms, make sure to call check_stock to search for these products as the first action in the result array, then add a \'reload\' action that will reprocess the query after the search is done to add those items later, if they exist and are in stock.\n- If the query asks for information that doesn\'t require an action but can be provided from a previous response, don\'t create actions and answer the query in a conversational manner, returning the result in \'answer\' instead of \'actions\'\n- If an Existing Order ID is provided, the order has added items and is still pending, mention the customer can confirm the order.\n- If the customer wants to add or remove a certain amount of a product from an order, make sure to check if the product is already in the order and update the amount accordingly.\n- If opening hours are specified, make sure pickup times are within the shop\'s opening hours, and otherwise, inform the customer about the shop\'s opening hours.\n- Before confirming an order, make sure to summarize the order for the customer to review.\n\nAvailable actions:\n- \"check_stock\": Search stock DB for products. Include an array of products to search as a \'products\' property, each with \"name\" and \"unit\" (if applicable). Existing searched terms and their results included below.\n- \"create_order\": Create a new order. Include \"pickup_time\" (in mysql datetime format) if mentioned.\n- \"add_order_item\": Add an item to an order. Include \"order_id\", \"item_id\", \"amount\".\n- \"update_order_item\": Update an existing order item. Include \"order_id\", \"item_id\", \"amount\".\n- \"remove_order_item\": Remove an item from an order. Include \"order_id\" and \"item_id.\"\n- \"summarize_order\": Provide a summary of the order. Use this before confirming the order, to make sure the order is correct.\n- \"confirm_order\": Confirm the order. Include \"order_id\", and optionally \"pickup_time\" (in mysql datetime format) if mentioned.\n- \"update_order\": Update order pickup time. Include \"order_id\" and \"pickup_time\" (in mysql datetime format).\n- \"reload\": Reinterpret the query after the search is done to process more required actions.\n\n\nProvide a JSON response with:\n- \"actions\": An array of actions, where each action includes:\n  - \"action\": One of the available actions.\n  - \"data\": Relevant data for the action.\n- \"answer\": A conversational response to the customer\'s query., in case no actions are required.\n\nAVAILABLE DATA:\n-- Current Time: 2025-01-20T13:15:27.618Z\n-- Shop Opening Hours: sunday: 08:00:00-16:00:00\nmonday: 08:00:00-16:00:00\ntuesday: 08:00:00-16:00:00\nwednesday: 08:00:00-16:00:00\nthursday: 08:00:00-16:00:00\nfriday: 08:00:00-12:30:00\n\n\n-- No order ID available\n\n\n-- Customer query: \"שלום, אתם זמינים?\"\n-- Chat History:\nNone\n\n-- Searched Terms: None\n-- Search Results:\nNone\n',	'{\"answer\":\"שלום! שעות הפתיחה שלנו הן בימים ראשון עד חמישי בין 08:00 ל-16:00 וביום שישי בין 08:00 ל-12:30. איך אפשר לעזור לך היום?\"}',	'2025-01-20 13:15:30'),
(2,	'interpretMessage',	'You are an AI assistant for a supermarket. Your task is to interpret the customer\'s query, identifying multiple actions and their corresponding details if necessary.\n\n- Ignore units or descriptions like \"bottle\" or \"box.\"\n- Simplify plural or descriptive forms (e.g., \"שוקולדים\" → \"שוקולד\").\n- Remove redundant words like \"please\", \"I want.\"\n- Remove standard product indicators like \"regular\" or \"standard\" from product names.\n- Use the \"search history\" and \"search results\" logs to avoid unnecessary queries and identify available and unavailable products.\n- Extract only the essential product names and quantities from the query.\n- When a customer asks to add products to an order, and you are not yet aware of an order ID, use the create_order action before adding the add_order_item action.\n- DO NOT ADD a \'create_order\' action if the existing order ID is already defined above. Only if it is \'None\', you can add \'create_order\'.\n- If a user asks to add products to an order and the products are not in the searched terms, make sure to call check_stock to search for these products as the first action in the result array, then add a \'reload\' action that will reprocess the query after the search is done to add those items later, if they exist and are in stock.\n- If the query asks for information that doesn\'t require an action but can be provided from a previous response, don\'t create actions and answer the query in a conversational manner, returning the result in \'answer\' instead of \'actions\'\n- If an Existing Order ID is provided, the order has added items and is still pending, mention the customer can confirm the order.\n- If the customer wants to add or remove a certain amount of a product from an order, make sure to check if the product is already in the order and update the amount accordingly.\n- If opening hours are specified, make sure pickup times are within the shop\'s opening hours, and otherwise, inform the customer about the shop\'s opening hours.\n- Before confirming an order, make sure to summarize the order for the customer to review.\n\nAvailable actions:\n- \"check_stock\": Search stock DB for products. Include an array of products to search as a \'products\' property, each with \"name\" and \"unit\" (if applicable). Existing searched terms and their results included below.\n- \"create_order\": Create a new order. Include \"pickup_time\" (in mysql datetime format) if mentioned.\n- \"add_order_item\": Add an item to an order. Include \"order_id\", \"item_id\", \"amount\".\n- \"update_order_item\": Update an existing order item. Include \"order_id\", \"item_id\", \"amount\".\n- \"remove_order_item\": Remove an item from an order. Include \"order_id\" and \"item_id.\"\n- \"summarize_order\": Provide a summary of the order. Use this before confirming the order, to make sure the order is correct.\n- \"confirm_order\": Confirm the order. Include \"order_id\", and optionally \"pickup_time\" (in mysql datetime format) if mentioned.\n- \"update_order\": Update order pickup time. Include \"order_id\" and \"pickup_time\" (in mysql datetime format).\n- \"reload\": Reinterpret the query after the search is done to process more required actions.\n\n\nProvide a JSON response with:\n- \"actions\": An array of actions, where each action includes:\n  - \"action\": One of the available actions.\n  - \"data\": Relevant data for the action.\n- \"answer\": A conversational response to the customer\'s query., in case no actions are required.\n\nAVAILABLE DATA:\n-- Current Time: 2025-01-20T13:15:39.633Z\n-- Shop Opening Hours: sunday: 08:00:00-16:00:00\nmonday: 08:00:00-16:00:00\ntuesday: 08:00:00-16:00:00\nwednesday: 08:00:00-16:00:00\nthursday: 08:00:00-16:00:00\nfriday: 08:00:00-12:30:00\n\n\n-- No order ID available\n\n\n-- Customer query: \"יש לכם פפסי במלאי?\"\n-- Chat History:\nsystem: Chat initialized\ncustomer: שלום, אתם זמינים?\nsystem: שלום! שעות הפתיחה שלנו הן בימים ראשון עד חמישי בין 08:00 ל-16:00 וביום שישי בין 08:00 ל-12:30. איך אפשר לעזור לך היום?\n\n-- Searched Terms: None\n-- Search Results:\nNone\n',	'{\"actions\":[{\"action\":\"check_stock\",\"data\":{\"products\":[{\"name\":\"פפסי\"}]}}]}',	'2025-01-20 13:15:41'),
(3,	'generateActionsResponse',	'You are an AI assistant for a supermarket. Generate a response to the customer\'s query based on the actions performed message and chat history.\n    \n        Respond naturally, but ensure factual accuracy based on the actions results and the history.\n        If an Existing Order ID is provided, the order has added items and the order is still pending, mention the customer can confirm the order.\n        Avoid fabricating product availability and focus on helpful, relevant information.\n        \n        AVAILABLE DATA:\n        -- Customer query: \"יש לכם פפסי במלאי?\"\n        \n        \n        -- Actions performed:\n1. {\"success\":true,\"results\":[{\"id\":15,\"name\":\"פפסי\",\"unit\":\"בקבוק\",\"price\":9.9,\"in_stock\":1},{\"id\":16,\"name\":\"פפסי מקס\",\"unit\":\"בקבוק\",\"price\":9.9,\"in_stock\":1},{\"id\":17,\"name\":\"פפסי מקס\",\"unit\":\"פחית\",\"price\":5.99,\"in_stock\":1}]}\n        -- Chat history:\nsystem: Chat initialized\ncustomer: שלום, אתם זמינים?\nsystem: שלום! שעות הפתיחה שלנו הן בימים ראשון עד חמישי בין 08:00 ל-16:00 וביום שישי בין 08:00 ל-12:30. איך אפשר לעזור לך היום?\n        ',	'כן, יש לנו פפסי במלאי! יש לנו גם פפסי מקס בבקבוק וגם פחית. אם יש לך שאלות נוספות או אם תרצה לבצע הזמנה, אני כאן לעזור.',	'2025-01-20 13:15:44'),
(4,	'interpretMessage',	'You are an AI assistant for a supermarket. Your task is to interpret the customer\'s query, identifying multiple actions and their corresponding details if necessary.\n\n- Ignore units or descriptions like \"bottle\" or \"box.\"\n- Simplify plural or descriptive forms (e.g., \"שוקולדים\" → \"שוקולד\").\n- Remove redundant words like \"please\", \"I want.\"\n- Remove standard product indicators like \"regular\" or \"standard\" from product names.\n- Use the \"search history\" and \"search results\" logs to avoid unnecessary queries and identify available and unavailable products.\n- Extract only the essential product names and quantities from the query.\n- When a customer asks to add products to an order, and you are not yet aware of an order ID, use the create_order action before adding the add_order_item action.\n- DO NOT ADD a \'create_order\' action if the existing order ID is already defined above. Only if it is \'None\', you can add \'create_order\'.\n- If a user asks to add products to an order and the products are not in the searched terms, make sure to call check_stock to search for these products as the first action in the result array, then add a \'reload\' action that will reprocess the query after the search is done to add those items later, if they exist and are in stock.\n- If the query asks for information that doesn\'t require an action but can be provided from a previous response, don\'t create actions and answer the query in a conversational manner, returning the result in \'answer\' instead of \'actions\'\n- If an Existing Order ID is provided, the order has added items and is still pending, mention the customer can confirm the order.\n- If the customer wants to add or remove a certain amount of a product from an order, make sure to check if the product is already in the order and update the amount accordingly.\n- If opening hours are specified, make sure pickup times are within the shop\'s opening hours, and otherwise, inform the customer about the shop\'s opening hours.\n- Before confirming an order, make sure to summarize the order for the customer to review.\n\nAvailable actions:\n- \"check_stock\": Search stock DB for products. Include an array of products to search as a \'products\' property, each with \"name\" and \"unit\" (if applicable). Existing searched terms and their results included below.\n- \"create_order\": Create a new order. Include \"pickup_time\" (in mysql datetime format) if mentioned.\n- \"add_order_item\": Add an item to an order. Include \"order_id\", \"item_id\", \"amount\".\n- \"update_order_item\": Update an existing order item. Include \"order_id\", \"item_id\", \"amount\".\n- \"remove_order_item\": Remove an item from an order. Include \"order_id\" and \"item_id.\"\n- \"summarize_order\": Provide a summary of the order. Use this before confirming the order, to make sure the order is correct.\n- \"confirm_order\": Confirm the order. Include \"order_id\", and optionally \"pickup_time\" (in mysql datetime format) if mentioned.\n- \"update_order\": Update order pickup time. Include \"order_id\" and \"pickup_time\" (in mysql datetime format).\n- \"reload\": Reinterpret the query after the search is done to process more required actions.\n\n\nProvide a JSON response with:\n- \"actions\": An array of actions, where each action includes:\n  - \"action\": One of the available actions.\n  - \"data\": Relevant data for the action.\n- \"answer\": A conversational response to the customer\'s query., in case no actions are required.\n\nAVAILABLE DATA:\n-- Current Time: 2025-01-20T13:15:56.996Z\n-- Shop Opening Hours: sunday: 08:00:00-16:00:00\nmonday: 08:00:00-16:00:00\ntuesday: 08:00:00-16:00:00\nwednesday: 08:00:00-16:00:00\nthursday: 08:00:00-16:00:00\nfriday: 08:00:00-12:30:00\n\n\n-- No order ID available\n\n\n-- Customer query: \"יש לכם פפסי רגיל בפחית?\"\n-- Chat History:\nsystem: Chat initialized\ncustomer: שלום, אתם זמינים?\nsystem: שלום! שעות הפתיחה שלנו הן בימים ראשון עד חמישי בין 08:00 ל-16:00 וביום שישי בין 08:00 ל-12:30. איך אפשר לעזור לך היום?\ncustomer: יש לכם פפסי במלאי?\nsystem: כן, יש לנו פפסי במלאי! יש לנו גם פפסי מקס בבקבוק וגם פחית. אם יש לך שאלות נוספות או אם תרצה לבצע הזמנה, אני כאן לעזור.\n\n-- Searched Terms: פפסי\n-- Search Results:\n[ID: 15] פפסי (בקבוק): 9.9 - In stock\n[ID: 16] פפסי מקס (בקבוק): 9.9 - In stock\n[ID: 17] פפסי מקס (פחית): 5.99 - In stock\n',	'{\"answer\":\"יש לנו פפסי במלאי אבל אין במלאי פחית של פפסי רגיל, יש פחית של פפסי מקס. האם תרצה להזמין משהו אחר?\"}',	'2025-01-20 13:15:59'),
(5,	'interpretMessage',	'You are an AI assistant for a supermarket. Your task is to interpret the customer\'s query, identifying multiple actions and their corresponding details if necessary.\n\n- Ignore units or descriptions like \"bottle\" or \"box.\"\n- Simplify plural or descriptive forms (e.g., \"שוקולדים\" → \"שוקולד\").\n- Remove redundant words like \"please\", \"I want.\"\n- Remove standard product indicators like \"regular\" or \"standard\" from product names.\n- Use the \"search history\" and \"search results\" logs to avoid unnecessary queries and identify available and unavailable products.\n- Extract only the essential product names and quantities from the query.\n- When a customer asks to add products to an order, and you are not yet aware of an order ID, use the create_order action before adding the add_order_item action.\n- DO NOT ADD a \'create_order\' action if the existing order ID is already defined above. Only if it is \'None\', you can add \'create_order\'.\n- If a user asks to add products to an order and the products are not in the searched terms, make sure to call check_stock to search for these products as the first action in the result array, then add a \'reload\' action that will reprocess the query after the search is done to add those items later, if they exist and are in stock.\n- If the query asks for information that doesn\'t require an action but can be provided from a previous response, don\'t create actions and answer the query in a conversational manner, returning the result in \'answer\' instead of \'actions\'\n- If an Existing Order ID is provided, the order has added items and is still pending, mention the customer can confirm the order.\n- If the customer wants to add or remove a certain amount of a product from an order, make sure to check if the product is already in the order and update the amount accordingly.\n- If opening hours are specified, make sure pickup times are within the shop\'s opening hours, and otherwise, inform the customer about the shop\'s opening hours.\n- Before confirming an order, make sure to summarize the order for the customer to review.\n\nAvailable actions:\n- \"check_stock\": Search stock DB for products. Include an array of products to search as a \'products\' property, each with \"name\" and \"unit\" (if applicable). Existing searched terms and their results included below.\n- \"create_order\": Create a new order. Include \"pickup_time\" (in mysql datetime format) if mentioned.\n- \"add_order_item\": Add an item to an order. Include \"order_id\", \"item_id\", \"amount\".\n- \"update_order_item\": Update an existing order item. Include \"order_id\", \"item_id\", \"amount\".\n- \"remove_order_item\": Remove an item from an order. Include \"order_id\" and \"item_id.\"\n- \"summarize_order\": Provide a summary of the order. Use this before confirming the order, to make sure the order is correct.\n- \"confirm_order\": Confirm the order. Include \"order_id\", and optionally \"pickup_time\" (in mysql datetime format) if mentioned.\n- \"update_order\": Update order pickup time. Include \"order_id\" and \"pickup_time\" (in mysql datetime format).\n- \"reload\": Reinterpret the query after the search is done to process more required actions.\n\n\nProvide a JSON response with:\n- \"actions\": An array of actions, where each action includes:\n  - \"action\": One of the available actions.\n  - \"data\": Relevant data for the action.\n- \"answer\": A conversational response to the customer\'s query., in case no actions are required.\n\nAVAILABLE DATA:\n-- Current Time: 2025-01-20T13:16:18.867Z\n-- Shop Opening Hours: sunday: 08:00:00-16:00:00\nmonday: 08:00:00-16:00:00\ntuesday: 08:00:00-16:00:00\nwednesday: 08:00:00-16:00:00\nthursday: 08:00:00-16:00:00\nfriday: 08:00:00-12:30:00\n\n\n-- No order ID available\n\n\n-- Customer query: \"אוקיי, אני רוצה לעשות הזמנה עם 2 בקבוקי פפסי רגיל וקטשופ\"\n-- Chat History:\nsystem: Chat initialized\ncustomer: שלום, אתם זמינים?\nsystem: שלום! שעות הפתיחה שלנו הן בימים ראשון עד חמישי בין 08:00 ל-16:00 וביום שישי בין 08:00 ל-12:30. איך אפשר לעזור לך היום?\ncustomer: יש לכם פפסי במלאי?\nsystem: כן, יש לנו פפסי במלאי! יש לנו גם פפסי מקס בבקבוק וגם פחית. אם יש לך שאלות נוספות או אם תרצה לבצע הזמנה, אני כאן לעזור.\ncustomer: יש לכם פפסי רגיל בפחית?\nsystem: יש לנו פפסי במלאי אבל אין במלאי פחית של פפסי רגיל, יש פחית של פפסי מקס. האם תרצה להזמין משהו אחר?\n\n-- Searched Terms: פפסי\n-- Search Results:\n[ID: 15] פפסי (בקבוק): 9.9 - In stock\n[ID: 16] פפסי מקס (בקבוק): 9.9 - In stock\n[ID: 17] פפסי מקס (פחית): 5.99 - In stock\n',	'{\"actions\":[{\"check_stock\":{\"products\":[{\"name\":\"קטשופ\"}]}},{\"reload\":{}}]}',	'2025-01-20 13:16:20'),
(6,	'generateCatchAllResponse',	'You are an AI assistant for a supermarket. Generate a response to the customer\'s query based on the provided fallback message and chat history.\n        - Order ID: null\n        - Customer query: \"אוקיי, אני רוצה לעשות הזמנה עם 2 בקבוקי פפסי רגיל וקטשופ\"\n        - Fallback message: \"\"\n        - Chat history:\n        system: Chat initialized\ncustomer: שלום, אתם זמינים?\nsystem: שלום! שעות הפתיחה שלנו הן בימים ראשון עד חמישי בין 08:00 ל-16:00 וביום שישי בין 08:00 ל-12:30. איך אפשר לעזור לך היום?\ncustomer: יש לכם פפסי במלאי?\nsystem: כן, יש לנו פפסי במלאי! יש לנו גם פפסי מקס בבקבוק וגם פחית. אם יש לך שאלות נוספות או אם תרצה לבצע הזמנה, אני כאן לעזור.\ncustomer: יש לכם פפסי רגיל בפחית?\nsystem: יש לנו פפסי במלאי אבל אין במלאי פחית של פפסי רגיל, יש פחית של פפסי מקס. האם תרצה להזמין משהו אחר?\n    \n        Respond naturally, but ensure factual accuracy based on the fallback message and the history.\n        Avoid fabricating product availability and focus on helpful, relevant information.',	'בטח! אתה יכול להזמין 2 בקבוקי פפסי רגיל וקטשופ דרך המערכת שלנו. לשם כך, אנא ודא שאתה מחובר לחשבון שלך באתר או באפליקציה שלנו. אם יש לך שאלות נוספות או אם תרצה עזרה נוספת בתהליך ההזמנה, אני כאן לעזור.',	'2025-01-20 13:16:24'),
(7,	'interpretMessage',	'You are an AI assistant for a supermarket. Your task is to interpret the customer\'s query, identifying multiple actions and their corresponding details if necessary.\n\n- Ignore units or descriptions like \"bottle\" or \"box.\"\n- Simplify plural or descriptive forms (e.g., \"שוקולדים\" → \"שוקולד\").\n- Remove redundant words like \"please\", \"I want.\"\n- Remove standard product indicators like \"regular\" or \"standard\" from product names.\n- Use the \"search history\" and \"search results\" logs to avoid unnecessary queries and identify available and unavailable products.\n- Extract only the essential product names and quantities from the query.\n- When a customer asks to add products to an order, and you are not yet aware of an order ID, use the create_order action before adding the add_order_item action.\n- DO NOT ADD a \'create_order\' action if the existing order ID is already defined above. Only if it is \'None\', you can add \'create_order\'.\n- If a user asks to add products to an order and the products are not in the searched terms, make sure to call check_stock to search for these products as the first action in the result array, then add a \'reload\' action that will reprocess the query after the search is done to add those items later, if they exist and are in stock.\n- If the query asks for information that doesn\'t require an action but can be provided from a previous response, don\'t create actions and answer the query in a conversational manner, returning the result in \'answer\' instead of \'actions\'\n- If an Existing Order ID is provided, the order has added items and is still pending, mention the customer can confirm the order.\n- If the customer wants to add or remove a certain amount of a product from an order, make sure to check if the product is already in the order and update the amount accordingly.\n- If opening hours are specified, make sure pickup times are within the shop\'s opening hours, and otherwise, inform the customer about the shop\'s opening hours.\n- Before confirming an order, make sure to summarize the order for the customer to review.\n\nAvailable actions:\n- \"check_stock\": Search stock DB for products. Include an array of products to search as a \'products\' property, each with \"name\" and \"unit\" (if applicable). Existing searched terms and their results included below.\n- \"create_order\": Create a new order. Include \"pickup_time\" (in mysql datetime format) if mentioned.\n- \"add_order_item\": Add an item to an order. Include \"order_id\", \"item_id\", \"amount\".\n- \"update_order_item\": Update an existing order item. Include \"order_id\", \"item_id\", \"amount\".\n- \"remove_order_item\": Remove an item from an order. Include \"order_id\" and \"item_id.\"\n- \"summarize_order\": Provide a summary of the order. Use this before confirming the order, to make sure the order is correct.\n- \"confirm_order\": Confirm the order. Include \"order_id\", and optionally \"pickup_time\" (in mysql datetime format) if mentioned.\n- \"update_order\": Update order pickup time. Include \"order_id\" and \"pickup_time\" (in mysql datetime format).\n- \"reload\": Reinterpret the query after the search is done to process more required actions.\n\n\nProvide a JSON response with:\n- \"actions\": An array of actions, where each action includes:\n  - \"action\": One of the available actions.\n  - \"data\": Relevant data for the action.\n- \"answer\": A conversational response to the customer\'s query., in case no actions are required.\n\nAVAILABLE DATA:\n-- Current Time: 2025-01-20T13:16:37.585Z\n-- Shop Opening Hours: sunday: 08:00:00-16:00:00\nmonday: 08:00:00-16:00:00\ntuesday: 08:00:00-16:00:00\nwednesday: 08:00:00-16:00:00\nthursday: 08:00:00-16:00:00\nfriday: 08:00:00-12:30:00\n\n\n-- No order ID available\n\n\n-- Customer query: \"תיצור לי הזמנה ליום שבת ב12 בצהריים\"\n-- Chat History:\nsystem: Chat initialized\ncustomer: שלום, אתם זמינים?\nsystem: שלום! שעות הפתיחה שלנו הן בימים ראשון עד חמישי בין 08:00 ל-16:00 וביום שישי בין 08:00 ל-12:30. איך אפשר לעזור לך היום?\ncustomer: יש לכם פפסי במלאי?\nsystem: כן, יש לנו פפסי במלאי! יש לנו גם פפסי מקס בבקבוק וגם פחית. אם יש לך שאלות נוספות או אם תרצה לבצע הזמנה, אני כאן לעזור.\ncustomer: יש לכם פפסי רגיל בפחית?\nsystem: יש לנו פפסי במלאי אבל אין במלאי פחית של פפסי רגיל, יש פחית של פפסי מקס. האם תרצה להזמין משהו אחר?\n\n-- Searched Terms: פפסי\n-- Search Results:\n[ID: 15] פפסי (בקבוק): 9.9 - In stock\n[ID: 16] פפסי מקס (בקבוק): 9.9 - In stock\n[ID: 17] פפסי מקס (פחית): 5.99 - In stock\n',	'{\"answer\":\"השבת אנחנו סגורים. שעות הפתיחה שלנו הן בימים ראשון עד חמישי בין 08:00 ל-16:00 וביום שישי בין 08:00 ל-12:30. האם יש יום אחר שבו תרצה לבצע הזמנה?\"}',	'2025-01-20 13:16:39'),
(8,	'interpretMessage',	'You are an AI assistant for a supermarket. Your task is to interpret the customer\'s query, identifying multiple actions and their corresponding details if necessary.\n\n- Ignore units or descriptions like \"bottle\" or \"box.\"\n- Simplify plural or descriptive forms (e.g., \"שוקולדים\" → \"שוקולד\").\n- Remove redundant words like \"please\", \"I want.\"\n- Remove standard product indicators like \"regular\" or \"standard\" from product names.\n- Use the \"search history\" and \"search results\" logs to avoid unnecessary queries and identify available and unavailable products.\n- Extract only the essential product names and quantities from the query.\n- When a customer asks to add products to an order, and you are not yet aware of an order ID, use the create_order action before adding the add_order_item action.\n- DO NOT ADD a \'create_order\' action if the existing order ID is already defined above. Only if it is \'None\', you can add \'create_order\'.\n- If a user asks to add products to an order and the products are not in the searched terms, make sure to call check_stock to search for these products as the first action in the result array, then add a \'reload\' action that will reprocess the query after the search is done to add those items later, if they exist and are in stock.\n- If the query asks for information that doesn\'t require an action but can be provided from a previous response, don\'t create actions and answer the query in a conversational manner, returning the result in \'answer\' instead of \'actions\'\n- If an Existing Order ID is provided, the order has added items and is still pending, mention the customer can confirm the order.\n- If the customer wants to add or remove a certain amount of a product from an order, make sure to check if the product is already in the order and update the amount accordingly.\n- If opening hours are specified, make sure pickup times are within the shop\'s opening hours, and otherwise, inform the customer about the shop\'s opening hours.\n- Before confirming an order, make sure to summarize the order for the customer to review.\n\nAvailable actions:\n- \"check_stock\": Search stock DB for products. Include an array of products to search as a \'products\' property, each with \"name\" and \"unit\" (if applicable). Existing searched terms and their results included below.\n- \"create_order\": Create a new order. Include \"pickup_time\" (in mysql datetime format) if mentioned.\n- \"add_order_item\": Add an item to an order. Include \"order_id\", \"item_id\", \"amount\".\n- \"update_order_item\": Update an existing order item. Include \"order_id\", \"item_id\", \"amount\".\n- \"remove_order_item\": Remove an item from an order. Include \"order_id\" and \"item_id.\"\n- \"summarize_order\": Provide a summary of the order. Use this before confirming the order, to make sure the order is correct.\n- \"confirm_order\": Confirm the order. Include \"order_id\", and optionally \"pickup_time\" (in mysql datetime format) if mentioned.\n- \"update_order\": Update order pickup time. Include \"order_id\" and \"pickup_time\" (in mysql datetime format).\n- \"reload\": Reinterpret the query after the search is done to process more required actions.\n\n\nProvide a JSON response with:\n- \"actions\": An array of actions, where each action includes:\n  - \"action\": One of the available actions.\n  - \"data\": Relevant data for the action.\n- \"answer\": A conversational response to the customer\'s query., in case no actions are required.\n\nAVAILABLE DATA:\n-- Current Time: 2025-02-18T08:16:31.101Z\n-- Shop Opening Hours: sunday: 08:00:00-16:00:00\nmonday: 08:00:00-16:00:00\ntuesday: 08:00:00-16:00:00\nwednesday: 08:00:00-16:00:00\nthursday: 08:00:00-16:00:00\nfriday: 08:00:00-12:30:00\n\n\n-- No order ID available\n\n\n-- Customer query: \"שלום, האם אתה זמין?\"\n-- Chat History:\nsystem: Chat initialized\ncustomer: שלום, אתם זמינים?\nsystem: שלום! שעות הפתיחה שלנו הן בימים ראשון עד חמישי בין 08:00 ל-16:00 וביום שישי בין 08:00 ל-12:30. איך אפשר לעזור לך היום?\ncustomer: יש לכם פפסי במלאי?\nsystem: כן, יש לנו פפסי במלאי! יש לנו גם פפסי מקס בבקבוק וגם פחית. אם יש לך שאלות נוספות או אם תרצה לבצע הזמנה, אני כאן לעזור.\ncustomer: יש לכם פפסי רגיל בפחית?\nsystem: יש לנו פפסי במלאי אבל אין במלאי פחית של פפסי רגיל, יש פחית של פפסי מקס. האם תרצה להזמין משהו אחר?\n\n-- Searched Terms: פפסי\n-- Search Results:\n[ID: 15] פפסי (בקבוק): 9.9 - In stock\n[ID: 16] פפסי מקס (בקבוק): 9.9 - In stock\n[ID: 17] פפסי מקס (פחית): 5.99 - In stock\n',	'{\"answer\":\"כן, אני זמין. איך אפשר לעזור לך היום?\"}',	'2025-02-18 08:16:33'),
(9,	'interpretMessage',	'You are an AI assistant for a supermarket. Your task is to interpret the customer\'s query, identifying multiple actions and their corresponding details if necessary.\n\n- Ignore units or descriptions like \"bottle\" or \"box.\"\n- Simplify plural or descriptive forms (e.g., \"שוקולדים\" → \"שוקולד\").\n- Remove redundant words like \"please\", \"I want.\"\n- Remove standard product indicators like \"regular\" or \"standard\" from product names.\n- Use the \"search history\" and \"search results\" logs to avoid unnecessary queries and identify available and unavailable products.\n- Extract only the essential product names and quantities from the query.\n- When a customer asks to add products to an order, and you are not yet aware of an order ID, use the create_order action before adding the add_order_item action.\n- DO NOT ADD a \'create_order\' action if the existing order ID is already defined above. Only if it is \'None\', you can add \'create_order\'.\n- If a user asks to add products to an order and the products are not in the searched terms, make sure to call check_stock to search for these products as the first action in the result array, then add a \'reload\' action that will reprocess the query after the search is done to add those items later, if they exist and are in stock.\n- If the query asks for information that doesn\'t require an action but can be provided from a previous response, don\'t create actions and answer the query in a conversational manner, returning the result in \'answer\' instead of \'actions\'\n- If an Existing Order ID is provided, the order has added items and is still pending, mention the customer can confirm the order.\n- If the customer wants to add or remove a certain amount of a product from an order, make sure to check if the product is already in the order and update the amount accordingly.\n- If opening hours are specified, make sure pickup times are within the shop\'s opening hours, and otherwise, inform the customer about the shop\'s opening hours.\n- Before confirming an order, make sure to summarize the order for the customer to review.\n\nAvailable actions:\n- \"check_stock\": Search stock DB for products. Include an array of products to search as a \'products\' property, each with \"name\" and \"unit\" (if applicable). Existing searched terms and their results included below.\n- \"create_order\": Create a new order. Include \"pickup_time\" (in mysql datetime format) if mentioned.\n- \"add_order_item\": Add an item to an order. Include \"order_id\", \"item_id\", \"amount\".\n- \"update_order_item\": Update an existing order item. Include \"order_id\", \"item_id\", \"amount\".\n- \"remove_order_item\": Remove an item from an order. Include \"order_id\" and \"item_id.\"\n- \"summarize_order\": Provide a summary of the order. Use this before confirming the order, to make sure the order is correct.\n- \"confirm_order\": Confirm the order. Include \"order_id\", and optionally \"pickup_time\" (in mysql datetime format) if mentioned.\n- \"update_order\": Update order pickup time. Include \"order_id\" and \"pickup_time\" (in mysql datetime format).\n- \"reload\": Reinterpret the query after the search is done to process more required actions.\n\n\nProvide a JSON response with:\n- \"actions\": An array of actions, where each action includes:\n  - \"action\": One of the available actions.\n  - \"data\": Relevant data for the action.\n- \"answer\": A conversational response to the customer\'s query., in case no actions are required.\n\nAVAILABLE DATA:\n-- Current Time: 2025-02-18T08:17:01.236Z\n-- Shop Opening Hours: sunday: 08:00:00-16:00:00\nmonday: 08:00:00-16:00:00\ntuesday: 08:00:00-16:00:00\nwednesday: 08:00:00-16:00:00\nthursday: 08:00:00-16:00:00\nfriday: 08:00:00-12:30:00\n\n\n-- No order ID available\n\n\n-- Customer query: \"תוכל ליצור עבורי הזמנה חדשה למחר בבוקר ולהוסיף לה שתי פחיות פפסי מקס?\"\n-- Chat History:\ncustomer: שלום, אתם זמינים?\nsystem: Chat initialized\nsystem: שלום! שעות הפתיחה שלנו הן בימים ראשון עד חמישי בין 08:00 ל-16:00 וביום שישי בין 08:00 ל-12:30. איך אפשר לעזור לך היום?\ncustomer: יש לכם פפסי במלאי?\nsystem: כן, יש לנו פפסי במלאי! יש לנו גם פפסי מקס בבקבוק וגם פחית. אם יש לך שאלות נוספות או אם תרצה לבצע הזמנה, אני כאן לעזור.\ncustomer: יש לכם פפסי רגיל בפחית?\nsystem: יש לנו פפסי במלאי אבל אין במלאי פחית של פפסי רגיל, יש פחית של פפסי מקס. האם תרצה להזמין משהו אחר?\n\n-- Searched Terms: פפסי\n-- Search Results:\n[ID: 15] פפסי (בקבוק): 9.9 - In stock\n[ID: 16] פפסי מקס (בקבוק): 9.9 - In stock\n[ID: 17] פפסי מקס (פחית): 5.99 - In stock\n',	'{\"actions\":[{\"action\":\"create_order\",\"data\":{\"pickup_time\":\"2025-02-19 08:00:00\"}},{\"action\":\"add_order_item\",\"data\":{\"order_id\":null,\"item_id\":17,\"amount\":2}}]}',	'2025-02-18 08:17:03'),
(10,	'generateActionsResponse',	'You are an AI assistant for a supermarket. Generate a response to the customer\'s query based on the actions performed message and chat history.\n    \n        Respond naturally, but ensure factual accuracy based on the actions results and the history.\n        If an Existing Order ID is provided, the order has added items and the order is still pending, mention the customer can confirm the order.\n        Avoid fabricating product availability and focus on helpful, relevant information.\n        \n        AVAILABLE DATA:\n        -- Customer query: \"תוכל ליצור עבורי הזמנה חדשה למחר בבוקר ולהוסיף לה שתי פחיות פפסי מקס?\"\n        -- Order ID: 1 (pending)\n        \n        -- Actions performed:\n1. {\"success\":true,\"order_id\":1,\"responseMessage\":\"Order created successfully. Your order ID is 1.\"}\n2. {\"success\":true,\"order_item_id\":1,\"responseMessage\":\"Item added to order: פפסי מקס x2.\"}\n        -- Chat history:\ncustomer: שלום, אתם זמינים?\nsystem: Chat initialized\nsystem: שלום! שעות הפתיחה שלנו הן בימים ראשון עד חמישי בין 08:00 ל-16:00 וביום שישי בין 08:00 ל-12:30. איך אפשר לעזור לך היום?\ncustomer: יש לכם פפסי במלאי?\nsystem: כן, יש לנו פפסי במלאי! יש לנו גם פפסי מקס בבקבוק וגם פחית. אם יש לך שאלות נוספות או אם תרצה לבצע הזמנה, אני כאן לעזור.\ncustomer: יש לכם פפסי רגיל בפחית?\nsystem: יש לנו פפסי במלאי אבל אין במלאי פחית של פפסי רגיל, יש פחית של פפסי מקס. האם תרצה להזמין משהו אחר?\n        ',	'שלום! הזמנה חדשה נוצרה בהצלחה והוספנו לה שתי פחיות של פפסי מקס. מספר ההזמנה שלך הוא 1 והיא כרגע בהמתנה. תוכל לאשר את ההזמנה כשאתה מוכן. אם יש לך בקשות נוספות או שאלות, אני כאן לעזור!',	'2025-02-18 08:17:05'),
(11,	'interpretMessage',	'You are an AI assistant for a supermarket. Your task is to interpret the customer\'s query, identifying multiple actions and their corresponding details if necessary.\n\n- Ignore units or descriptions like \"bottle\" or \"box.\"\n- Simplify plural or descriptive forms (e.g., \"שוקולדים\" → \"שוקולד\").\n- Remove redundant words like \"please\", \"I want.\"\n- Remove standard product indicators like \"regular\" or \"standard\" from product names.\n- Use the \"search history\" and \"search results\" logs to avoid unnecessary queries and identify available and unavailable products.\n- Extract only the essential product names and quantities from the query.\n- When a customer asks to add products to an order, and you are not yet aware of an order ID, use the create_order action before adding the add_order_item action.\n- DO NOT ADD a \'create_order\' action if the existing order ID is already defined above. Only if it is \'None\', you can add \'create_order\'.\n- If a user asks to add products to an order and the products are not in the searched terms, make sure to call check_stock to search for these products as the first action in the result array, then add a \'reload\' action that will reprocess the query after the search is done to add those items later, if they exist and are in stock.\n- If the query asks for information that doesn\'t require an action but can be provided from a previous response, don\'t create actions and answer the query in a conversational manner, returning the result in \'answer\' instead of \'actions\'\n- If an Existing Order ID is provided, the order has added items and is still pending, mention the customer can confirm the order.\n- If the customer wants to add or remove a certain amount of a product from an order, make sure to check if the product is already in the order and update the amount accordingly.\n- If opening hours are specified, make sure pickup times are within the shop\'s opening hours, and otherwise, inform the customer about the shop\'s opening hours.\n- Before confirming an order, make sure to summarize the order for the customer to review.\n\nAvailable actions:\n- \"check_stock\": Search stock DB for products. Include an array of products to search as a \'products\' property, each with \"name\" and \"unit\" (if applicable). Existing searched terms and their results included below.\n- \"create_order\": Create a new order. Include \"pickup_time\" (in mysql datetime format) if mentioned.\n- \"add_order_item\": Add an item to an order. Include \"order_id\", \"item_id\", \"amount\".\n- \"update_order_item\": Update an existing order item. Include \"order_id\", \"item_id\", \"amount\".\n- \"remove_order_item\": Remove an item from an order. Include \"order_id\" and \"item_id.\"\n- \"summarize_order\": Provide a summary of the order. Use this before confirming the order, to make sure the order is correct.\n- \"confirm_order\": Confirm the order. Include \"order_id\", and optionally \"pickup_time\" (in mysql datetime format) if mentioned.\n- \"update_order\": Update order pickup time. Include \"order_id\" and \"pickup_time\" (in mysql datetime format).\n- \"reload\": Reinterpret the query after the search is done to process more required actions.\n\n\nProvide a JSON response with:\n- \"actions\": An array of actions, where each action includes:\n  - \"action\": One of the available actions.\n  - \"data\": Relevant data for the action.\n- \"answer\": A conversational response to the customer\'s query., in case no actions are required.\n\nAVAILABLE DATA:\n-- Current Time: 2025-02-18T08:17:11.138Z\n-- Shop Opening Hours: sunday: 08:00:00-16:00:00\nmonday: 08:00:00-16:00:00\ntuesday: 08:00:00-16:00:00\nwednesday: 08:00:00-16:00:00\nthursday: 08:00:00-16:00:00\nfriday: 08:00:00-12:30:00\n\n\n-- Order ID: 1 (pending)\n-- Existing Order Items:\n[ID: 17] 2x undefined\n\n\n\n-- Customer query: \"אני מאשר את ההזמנה\"\n-- Chat History:\ncustomer: שלום, אתם זמינים?\nsystem: Chat initialized\nsystem: שלום! שעות הפתיחה שלנו הן בימים ראשון עד חמישי בין 08:00 ל-16:00 וביום שישי בין 08:00 ל-12:30. איך אפשר לעזור לך היום?\ncustomer: יש לכם פפסי במלאי?\nsystem: כן, יש לנו פפסי במלאי! יש לנו גם פפסי מקס בבקבוק וגם פחית. אם יש לך שאלות נוספות או אם תרצה לבצע הזמנה, אני כאן לעזור.\ncustomer: יש לכם פפסי רגיל בפחית?\nsystem: יש לנו פפסי במלאי אבל אין במלאי פחית של פפסי רגיל, יש פחית של פפסי מקס. האם תרצה להזמין משהו אחר?\n\n-- Searched Terms: פפסי\n-- Search Results:\n[ID: 15] פפסי (בקבוק): 9.9 - In stock\n[ID: 16] פפסי מקס (בקבוק): 9.9 - In stock\n[ID: 17] פפסי מקס (פחית): 5.99 - In stock\n',	'{\"actions\":[{\"action\":\"summarize_order\",\"data\":{\"order_id\":1}}],\"answer\":\"You have confirmed that you would like to proceed with the order. Let\'s review the items in your order to ensure everything is correct before finalizing.\"}',	'2025-02-18 08:17:13'),
(12,	'interpretMessage',	'You are an AI assistant for a supermarket. Your task is to interpret the customer\'s query, identifying multiple actions and their corresponding details if necessary.\n\n- Ignore units or descriptions like \"bottle\" or \"box.\"\n- Simplify plural or descriptive forms (e.g., \"שוקולדים\" → \"שוקולד\").\n- Remove redundant words like \"please\", \"I want.\"\n- Remove standard product indicators like \"regular\" or \"standard\" from product names.\n- Use the \"search history\" and \"search results\" logs to avoid unnecessary queries and identify available and unavailable products.\n- Extract only the essential product names and quantities from the query.\n- When a customer asks to add products to an order, and you are not yet aware of an order ID, use the create_order action before adding the add_order_item action.\n- DO NOT ADD a \'create_order\' action if the existing order ID is already defined above. Only if it is \'None\', you can add \'create_order\'.\n- If a user asks to add products to an order and the products are not in the searched terms, make sure to call check_stock to search for these products as the first action in the result array, then add a \'reload\' action that will reprocess the query after the search is done to add those items later, if they exist and are in stock.\n- If the query asks for information that doesn\'t require an action but can be provided from a previous response, don\'t create actions and answer the query in a conversational manner, returning the result in \'answer\' instead of \'actions\'\n- If an Existing Order ID is provided, the order has added items and is still pending, mention the customer can confirm the order.\n- If the customer wants to add or remove a certain amount of a product from an order, make sure to check if the product is already in the order and update the amount accordingly.\n- If opening hours are specified, make sure pickup times are within the shop\'s opening hours, and otherwise, inform the customer about the shop\'s opening hours.\n- Before confirming an order, make sure to summarize the order for the customer to review.\n\nAvailable actions:\n- \"check_stock\": Search stock DB for products. Include an array of products to search as a \'products\' property, each with \"name\" and \"unit\" (if applicable). Existing searched terms and their results included below.\n- \"create_order\": Create a new order. Include \"pickup_time\" (in mysql datetime format) if mentioned.\n- \"add_order_item\": Add an item to an order. Include \"order_id\", \"item_id\", \"amount\".\n- \"update_order_item\": Update an existing order item. Include \"order_id\", \"item_id\", \"amount\".\n- \"remove_order_item\": Remove an item from an order. Include \"order_id\" and \"item_id.\"\n- \"summarize_order\": Provide a summary of the order. Use this before confirming the order, to make sure the order is correct.\n- \"confirm_order\": Confirm the order. Include \"order_id\", and optionally \"pickup_time\" (in mysql datetime format) if mentioned.\n- \"update_order\": Update order pickup time. Include \"order_id\" and \"pickup_time\" (in mysql datetime format).\n- \"reload\": Reinterpret the query after the search is done to process more required actions.\n\n\nProvide a JSON response with:\n- \"actions\": An array of actions, where each action includes:\n  - \"action\": One of the available actions.\n  - \"data\": Relevant data for the action.\n- \"answer\": A conversational response to the customer\'s query., in case no actions are required.\n\nAVAILABLE DATA:\n-- Current Time: 2025-02-18T08:17:21.336Z\n-- Shop Opening Hours: sunday: 08:00:00-16:00:00\nmonday: 08:00:00-16:00:00\ntuesday: 08:00:00-16:00:00\nwednesday: 08:00:00-16:00:00\nthursday: 08:00:00-16:00:00\nfriday: 08:00:00-12:30:00\n\n\n-- Order ID: 1 (pending)\n-- Existing Order Items:\n[ID: 17] 2x undefined\n\n\n\n-- Customer query: \"אני מאשר\"\n-- Chat History:\ncustomer: שלום, אתם זמינים?\nsystem: Chat initialized\nsystem: שלום! שעות הפתיחה שלנו הן בימים ראשון עד חמישי בין 08:00 ל-16:00 וביום שישי בין 08:00 ל-12:30. איך אפשר לעזור לך היום?\ncustomer: יש לכם פפסי במלאי?\nsystem: כן, יש לנו פפסי במלאי! יש לנו גם פפסי מקס בבקבוק וגם פחית. אם יש לך שאלות נוספות או אם תרצה לבצע הזמנה, אני כאן לעזור.\ncustomer: יש לכם פפסי רגיל בפחית?\nsystem: יש לנו פפסי במלאי אבל אין במלאי פחית של פפסי רגיל, יש פחית של פפסי מקס. האם תרצה להזמין משהו אחר?\n\n-- Searched Terms: פפסי\n-- Search Results:\n[ID: 15] פפסי (בקבוק): 9.9 - In stock\n[ID: 16] פפסי מקס (בקבוק): 9.9 - In stock\n[ID: 17] פפסי מקס (פחית): 5.99 - In stock\n',	'{\"actions\":[{\"action\":\"summarize_order\",\"data\":{\"order_id\":1}}]}',	'2025-02-18 08:17:22'),
(13,	'generateCatchAllResponse',	'You are an AI assistant for a supermarket. Generate a response to the customer\'s query based on the provided fallback message and chat history.\n        - Order ID: 1\n        - Customer query: \"אני מאשר\"\n        - Fallback message: \"\"\n        - Chat history:\n        customer: שלום, אתם זמינים?\nsystem: Chat initialized\nsystem: שלום! שעות הפתיחה שלנו הן בימים ראשון עד חמישי בין 08:00 ל-16:00 וביום שישי בין 08:00 ל-12:30. איך אפשר לעזור לך היום?\ncustomer: יש לכם פפסי במלאי?\nsystem: כן, יש לנו פפסי במלאי! יש לנו גם פפסי מקס בבקבוק וגם פחית. אם יש לך שאלות נוספות או אם תרצה לבצע הזמנה, אני כאן לעזור.\ncustomer: יש לכם פפסי רגיל בפחית?\nsystem: יש לנו פפסי במלאי אבל אין במלאי פחית של פפסי רגיל, יש פחית של פפסי מקס. האם תרצה להזמין משהו אחר?\n    \n        Respond naturally, but ensure factual accuracy based on the fallback message and the history.\n        Avoid fabricating product availability and focus on helpful, relevant information.',	'אני מבין שאתה מאשר, אבל אני לא בטוח למה אתה מתכוון. האם תרצה להזמין את פפסי מקס בפחית או אולי משהו אחר? אם יש לך שאלות נוספות או אם תרצה ייעוץ לגבי מוצרים אחרים, אני כאן לעזור!',	'2025-02-18 08:17:24');

DROP TABLE IF EXISTS `related_product`;
CREATE TABLE `related_product` (
  `product_id` int NOT NULL,
  `related_product_id` int NOT NULL,
  PRIMARY KEY (`product_id`,`related_product_id`),
  KEY `related_product_ibfk_2` (`related_product_id`),
  CONSTRAINT `related_product_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `product` (`id`),
  CONSTRAINT `related_product_ibfk_2` FOREIGN KEY (`related_product_id`) REFERENCES `product` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;


DROP TABLE IF EXISTS `shop`;
CREATE TABLE `shop` (
  `id` int NOT NULL AUTO_INCREMENT,
  `owner_id` int NOT NULL,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `address` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `phone` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `email` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `time_zone` varchar(50) COLLATE utf8mb4_general_ci DEFAULT 'UTC',
  `waze_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `shop` (`id`, `owner_id`, `name`, `address`, `phone`, `email`, `time_zone`, `waze_url`) VALUES
(1,	1,	'החנות שלי',	'עזרא 2 פרדס חנה',	'0525259345',	'ikoosh@gmail.com',	'UTC',	NULL);

DROP TABLE IF EXISTS `user`;
CREATE TABLE `user` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `email` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `password` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `role` enum('admin','manager','staff') CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'staff',
  `shop_id` int DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `token` varchar(255) COLLATE utf8mb4_general_ci DEFAULT NULL,
  `last_login` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `email` (`email`),
  KEY `shop_id` (`shop_id`),
  CONSTRAINT `user_ibfk_1` FOREIGN KEY (`shop_id`) REFERENCES `shop` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `user` (`id`, `name`, `email`, `password`, `role`, `shop_id`, `created_at`, `updated_at`, `token`, `last_login`) VALUES
(1,	'Oded',	'ikoosh@gmail.com',	'5JHeet7Vog6Qrpbe1gyRqdNRzfD0Ue2vhmDRo9NBZeE=',	'admin',	NULL,	'2025-01-11 09:45:05',	'2025-02-16 14:04:32',	'F1V++Z38IQqTSN2PnFEt/xJ56LJtl5+R/C/WmH/Y+Dc=',	'2025-02-16 14:04:32');

-- 2025-08-22 12:49:50 UTC